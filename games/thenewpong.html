<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
		<title>The New Pong</title>
		<style type="text/css">
			html, body {
				width: 100%;
				height: 100%;
				padding: none;
				margin: 0;
				overflow: hidden;
			}
			canvas {
				background: black;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<script type="text/javascript">
			
			var canvas = document.getElementById("canvas");
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			var mouse = [ ];

			canvas.addEventListener("mousemove", function(e) {
				mouse[0] = e.clientX;
				mouse[1] = e.clientY;
			}, false);

			canvas.addEventListener("mousedown", function(e) {
				mouse[2] = true;
			}, false);

			canvas.addEventListener("mouseup", function(e) {
				mouse[2] = false;
			}, false);

			var c = canvas.getContext("2d");

			var state = 0;

			function levelSwitcher() {
				if (state === 0) {
					c.fillStyle = "white";
					c.textAlign = "center";
					c.font = "32px 'Press Start 2P'";
					c.fillText("THE NEW PONG", canvas.width / 2, canvas.height * .3);
					c.font = "22px 'Press Start 2P'";
					var playWidth = c.measureText("PLAY").width;
					if (mouse[0] > canvas.width / 2 - playWidth / 2 && mouse[0] < canvas.width / 2 + playWidth / 2 && 
						mouse[1] < (canvas.height * .3 + 100) && mouse[1] > canvas.height * .3 + 100 - 22) {
						c.fillStyle = "red";
						canvas.style.cursor = "pointer";
						if (mouse[2]) {
							state++;
							canvas.style.cursor = "auto";
						}
					}
					else {
						canvas.style.cursor = "auto";
						c.fillStyle = "white";
					}
					c.fillText("PLAY", canvas.width / 2, canvas.height * .3 + 100);
				}
				else {
					c.fillStylle = "black;"
					c.fillRect(0, 0, canvas.width, canvas.height);
				}
			}
			function animate() {
				c.fillStyle = "black";
				c.fillRect(0, 0, canvas.width, canvas.height);
				levelSwitcher();
				requestAnimationFrame(animate);
			}

			window.onload = animate();
		</script>
	</body>
</html>